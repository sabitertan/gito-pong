import"./modulepreload-polyfill-B5Qt9EMX.js";const a=document.getElementById("ttt-board"),u=document.getElementById("ttt-status"),y=document.getElementById("ttt-restart"),p=document.getElementById("ttt-mode");a.style.display="grid";a.style.gridTemplateColumns="repeat(3, 80px)";a.style.gridTemplateRows="repeat(3, 80px)";a.style.gap="12px";a.style.justifyContent="center";a.style.margin="40px auto";let o,s,m,g="ai",f=1;const x=10;let O=0,C=0;function c(){return Math.min(3+f-1,10)}function M(){const e=c();o=Array(e*e).fill(""),s="X",m=!1,u.textContent=`Level ${f} / ${x} - Player X's turn`,y.style.display="none",I()}function I(){const e=c();a.innerHTML="",a.style.gridTemplateColumns=`repeat(${e}, 80px)`,a.style.gridTemplateRows=`repeat(${e}, 80px)`;for(let r=0;r<e*e;r++){const n=o[r],t=document.createElement("div");t.className="ttt-cell",t.textContent=n,t.addEventListener("click",()=>T(r)),a.appendChild(t)}}p&&(p.value="ai");p&&p.addEventListener("change",()=>{g=p.value,M()});function T(e){m||o[e]||(o[e]=s,I(),v(s)?(g==="ai"&&s==="X"&&O++,g==="ai"&&s==="O"&&C++,u.textContent=`Player ${s} wins! ðŸŽ‰`,m=!0,y.style.display="block",setTimeout(h,1200)):o.every(r=>r)?(u.textContent="It's a draw!",m=!0,y.style.display="block",setTimeout(h,1200)):(s=s==="X"?"O":"X",u.textContent=`Level ${f} / ${x} - Player ${s}'s turn`,g==="ai"&&s==="O"&&!m&&setTimeout(X,400)))}function h(){f<x?(f++,M()):(u.textContent=`Game Over! Final Score: You ${O} - AI ${C}`,y.style.display="block")}function X(){let e;if(c()>3){const n=o.map((t,l)=>t===""?l:null).filter(t=>t!==null);e=n[Math.floor(Math.random()*n.length)]}else if(f===1){const n=o.map((t,l)=>t===""?l:null).filter(t=>t!==null);e=n[Math.floor(Math.random()*n.length)]}else e=E(f);e!==void 0&&(o[e]="O",I(),v("O")?(u.textContent="Player O (AI) wins! ðŸ¤–",m=!0,y.style.display="block",setTimeout(h,1200)):o.every(n=>n)?(u.textContent="It's a draw!",m=!0,y.style.display="block",setTimeout(h,1200)):(s="X",u.textContent=`Level ${f} / ${x} - Player X's turn`))}function v(e){const r=c();for(let n=0;n<r;n++)if(Array.from({length:r},(t,l)=>o[n*r+l]).every(t=>t===e))return!0;for(let n=0;n<r;n++)if(Array.from({length:r},(t,l)=>o[l*r+n]).every(t=>t===e))return!0;return!!(Array.from({length:r},(n,t)=>o[t*r+t]).every(n=>n===e)||Array.from({length:r},(n,t)=>o[t*r+(r-1-t)]).every(n=>n===e))}function E(e){if(c()>3){const i=o.map((d,k)=>d===""?k:null).filter(d=>d!==null);return i[Math.floor(Math.random()*i.length)]}let n=$("O");if(e>=3&&n!==void 0)return n;let t=$("X");if(e>=2&&t!==void 0)return t;if(e>=5){if(o[4]==="")return 4;const i=[0,2,6,8].filter(d=>o[d]==="");if(i.length)return i[Math.floor(Math.random()*i.length)]}if(e>=8)return B();const l=o.map((i,d)=>i===""?d:null).filter(i=>i!==null);return l[Math.floor(Math.random()*l.length)]}function $(e){if(c()>3)return;const n=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(const t of n){const l=t.map(i=>o[i]);if(l.filter(i=>i===e).length===2&&l.includes(""))return t[l.indexOf("")]}}function B(){if(c()>3)return E(f);let r=-1/0,n;for(let t=0;t<9;t++)if(o[t]===""){o[t]="O";let l=z(o,0,!1);o[t]="",l>r&&(r=l,n=t)}return n}function z(e,r,n){if(c()>3)return 0;if(v("O"))return 10-r;if(v("X"))return r-10;if(e.every(l=>l))return 0;if(n){let l=-1/0;for(let i=0;i<9;i++)e[i]===""&&(e[i]="O",l=Math.max(l,z(e,r+1,!1)),e[i]="");return l}else{let l=1/0;for(let i=0;i<9;i++)e[i]===""&&(e[i]="X",l=Math.min(l,z(e,r+1,!0)),e[i]="");return l}}y.addEventListener("click",()=>{f=1,O=0,C=0,M()});M();
