import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */console.log("Pong game script loaded");window.addEventListener("error",function(e){document.body.innerHTML='<pre style="color:red;font-size:1.2em;">Script error: '+e.message+`
`+(e.filename||"")+":"+(e.lineno||"")+"</pre>",console.error("Script error:",e)});const H=document.querySelector("#app"),N=Math.min(Math.floor(window.innerWidth*.5),1e3),U=Math.min(Math.floor(window.innerHeight*.5),700);H.innerHTML=`
  <h1>Pong Game</h1>
  <div id="levelDisplay" style="font-size:18px; margin-bottom:2px; color:#555;">Level: <span id="levelNum">1</span> / 10</div>
  <div id="scoreboard" style="font-size:22px; margin-bottom:8px; color:#333;">
    <span id="playerScore">0</span> : <span id="aiScore">0</span>
  </div>
  <canvas id="gameCanvas" width="${N}" height="${U}" style="border:1px solid #333;"></canvas>
  <p>Use <b>Up</b> and <b>Down</b> arrow keys to move your paddle!</p>
`;const n=document.getElementById("gameCanvas"),t=n.getContext("2d"),g=22,p=160;let x=n.height/2-p/2,u=n.height/2-p/2;const s=12;let a=n.width/2,r=n.height/2,M=4.5,d=M,y=M,f=0,m=0,b=0,i=1;const I=10;let L=1.5,c=!1;const B=28,W=[[261.63,329.63,392,523.25,392,329.63,261.63,196],[293.66,349.23,440,587.33,440,349.23,293.66,220],[329.63,392,493.88,659.25,493.88,392,329.63,246.94],[349.23,415.3,523.25,698.46,523.25,415.3,349.23,261.63],[392,493.88,587.33,783.99,587.33,493.88,392,293.66],[440,554.37,659.25,880,659.25,554.37,440,329.63],[493.88,622.25,783.99,987.77,783.99,622.25,493.88,392],[523.25,659.25,830.61,1046.5,830.61,659.25,523.25,415.3],[587.33,739.99,932.33,1174.66,932.33,739.99,587.33,466.16],[659.25,830.61,1046.5,1318.51,1046.5,830.61,659.25,523.25]];let w=!1,E=!1,P;function Y(){t.clearRect(0,0,n.width,n.height),t.fillStyle="#555",t.fillRect(0,0,n.width,8),t.fillRect(0,n.height-8,n.width,8),t.fillRect(0,0,8,n.height),t.fillRect(n.width-8,0,8,n.height),t.save(),t.translate(18+g/2,x+p/2),t.scale(1,3.2),t.beginPath(),t.arc(0,0,g/2,0,Math.PI*2),t.fillStyle="#3498db",t.fill(),t.restore(),t.save(),t.translate(n.width-B-g/2,u+p/2),t.scale(1,3.2),t.beginPath(),t.arc(0,0,g/2,0,Math.PI*2),t.fillStyle="#e67e22",t.fill(),t.restore(),t.beginPath(),t.arc(a,r,s,0,Math.PI*2),t.fillStyle="#2ecc40",t.fill(),t.closePath()}function X(){const e=u+p/2;let l=r,T=(I-i+1)*8;l+=(Math.random()-.5)*T,e<l-10?u+=L:e>l+10&&(u-=L),u=Math.max(0,Math.min(n.height-p,u))}function $(){x+=b*5,x=Math.max(0,Math.min(n.height-p,x))}function k(){if(!c){if(a+=d,r+=y,(r-s<8||r+s>n.height-8)&&(y=-y),a-s<18+g&&r>x&&r<x+p&&(d=-d,a=18+g+s,G()),a+s>n.width-B&&r>u&&r<u+p&&(d=-d,a=n.width-B-s,G()),a-s<8){if(m++,v(),m>=3){J();return}S()}a+s>n.width-8&&(f++,v(),q(),S()),$(),X(),Y(),n.style.boxShadow="",requestAnimationFrame(k)}}function S(){a=n.width/2,r=n.height/2;const e=M+(i-1)*.7;d=Math.random()>.5?e:-e,y=Math.random()>.5?e:-e}window.addEventListener("keydown",e=>{e.key==="ArrowUp"?b=-1:e.key==="ArrowDown"&&(b=1)});window.addEventListener("keyup",e=>{(e.key==="ArrowUp"&&b===-1||e.key==="ArrowDown"&&b===1)&&(b=0)});let o;function A(){if(w||c)return;w=!0,E=!1,o=new(window.AudioContext||window.webkitAudioContext);const e=W[i-1];let l=0;function T(){if(E){w=!1;return}const h=o.createOscillator(),z=o.createGain();h.type="square",h.frequency.value=e[l%e.length],z.gain.value=.08,h.connect(z).connect(o.destination),h.start(),h.stop(o.currentTime+.18),h.onended=()=>{l++,P=setTimeout(T,80)}}T()}function D(){E=!0,o&&o.close(),clearTimeout(P),w=!1}function O(){!w&&!c&&A()}window.addEventListener("keydown",O);window.addEventListener("mousedown",O);window.addEventListener("touchstart",O);function G(){if(!o)return;const e=o.createOscillator(),l=o.createGain();e.type="square",e.frequency.value=520,l.gain.value=.18,e.connect(l).connect(o.destination),e.start(),e.stop(o.currentTime+.07),l.gain.linearRampToValueAtTime(0,o.currentTime+.07)}function v(){document.getElementById("playerScore").textContent=f,document.getElementById("aiScore").textContent=m}function C(){document.getElementById("levelNum").textContent=i}function F(){if(!o)return;const e=o.createOscillator(),l=o.createGain();e.type="triangle",e.frequency.setValueAtTime(880,o.currentTime),e.frequency.linearRampToValueAtTime(1320,o.currentTime+.18),l.gain.value=.22,e.connect(l).connect(o.destination),e.start(),e.stop(o.currentTime+.22),l.gain.linearRampToValueAtTime(0,o.currentTime+.22)}function V(){c=!0,D();const e=document.createElement("div");e.id="nextLevelOverlay",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100vw",e.style.height="100vh",e.style.background="rgba(0,0,0,0.7)",e.style.display="flex",e.style.flexDirection="column",e.style.justifyContent="center",e.style.alignItems="center",e.style.zIndex="1000",e.innerHTML=`
    <div style="background:linear-gradient(135deg,#fff 60%,#e0eafc 100%);padding:40px 60px;border-radius:24px;box-shadow:0 4px 32px #0006;text-align:center;">
      <h2 style="color:#ff9800;text-shadow:0 0 12px #fff700,0 0 24px #ff9800;">üéâ Level ${i-1} Complete! üéâ</h2>
      <p style="font-size:20px;color:#3498db;">You rocked Level ${i-1}!<br>Get ready for <span style="color:#e67e22;">Level ${i}</span>!</p>
      <button id="continueBtn" style="font-size:22px;padding:14px 40px;margin-top:24px;cursor:pointer;background:linear-gradient(90deg,#ff9800,#ffe082);border:none;border-radius:12px;box-shadow:0 0 16px #fff700;font-weight:bold;">Continue üöÄ</button>
    </div>
  `,document.body.appendChild(e),document.getElementById("continueBtn").onclick=()=>{e.remove(),c=!1,setTimeout(()=>{A(),S(),k()},200)}}function j(){console.log("showWinOverlay called, level:",i),c=!0,D();const e=document.createElement("div");e.id="winOverlay",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100vw",e.style.height="100vh",e.style.background="rgba(0,0,0,0.7)",e.style.display="flex",e.style.flexDirection="column",e.style.justifyContent="center",e.style.alignItems="center",e.style.zIndex="1000",e.innerHTML=`
    <div style="background:linear-gradient(135deg,#fff 60%,#e0eafc 100%);padding:40px 60px;border-radius:24px;box-shadow:0 4px 32px #0006;text-align:center;">
      <h2 style="color:#4caf50;text-shadow:0 0 12px #fff,0 0 24px #4caf50;">üèÜ You Win! üèÜ</h2>
      <p style="font-size:20px;color:#3498db;">Congratulations!<br>You completed all levels!</p>
      <button id="restartBtn" style="font-size:22px;padding:14px 40px;margin-top:24px;cursor:pointer;background:linear-gradient(90deg,#4caf50,#b2ff59);border:none;border-radius:12px;box-shadow:0 0 16px #4caf50;font-weight:bold;">Restart Game üîÑ</button>
    </div>
  `,document.body.appendChild(e),document.getElementById("restartBtn").onclick=()=>{e.remove(),R()}}function R(){i=1,L=1.5,f=0,m=0,v(),C(),c=!1,setTimeout(()=>{A(),S(),k()},200)}function q(){if(console.log("checkLevelUp called, level:",i,"maxLevel:",I,"playerScore:",f),f>0&&f%3===0){i++,L=1.5+(i-1)*.7,C();const e=M+(i-1)*.7;d=d>0?e:-e,y=y>0?e:-e,F(),f=0,m=0,v(),i>I?j():V()}}function J(){c=!0,D();const e=document.createElement("div");e.id="gameOverOverlay",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100vw",e.style.height="100vh",e.style.background="rgba(0,0,0,0.7)",e.style.display="flex",e.style.flexDirection="column",e.style.justifyContent="center",e.style.alignItems="center",e.style.zIndex="1000",e.innerHTML=`
    <div style="background:linear-gradient(135deg,#fff 60%,#e0eafc 100%);padding:40px 60px;border-radius:24px;box-shadow:0 4px 32px #0006;text-align:center;">
      <h2 style="color:#ff1744;text-shadow:0 0 12px #fff,0 0 24px #ff1744;">üíÄ Game Over!</h2>
      <p style="font-size:20px;color:#3498db;">The computer reached 3 points.<br>Try again!</p>
      <button id="restartBtn" style="font-size:22px;padding:14px 40px;margin-top:24px;cursor:pointer;background:linear-gradient(90deg,#ff1744,#ff8a65);border:none;border-radius:12px;box-shadow:0 0 16px #ff1744;font-weight:bold;">Restart Game üîÑ</button>
    </div>
  `,document.body.appendChild(e),document.getElementById("restartBtn").onclick=()=>{e.remove(),R()}}window.getGameState=function(){return{ballX:a,ballY:r,ballDX:d,ballDY:y,playerScore:f,aiScore:m,level:i,waitingForNextLevel:c}};window.setGameState=function(e){typeof e.ballX=="number"&&(a=e.ballX),typeof e.ballY=="number"&&(r=e.ballY),typeof e.ballDX=="number"&&(d=e.ballDX),typeof e.ballDY=="number"&&(y=e.ballDY),typeof e.playerScore=="number"&&(f=e.playerScore),typeof e.aiScore=="number"&&(m=e.aiScore),typeof e.level=="number"&&(i=e.level),typeof e.waitingForNextLevel=="boolean"&&(c=e.waitingForNextLevel),v(),C()};window.forceLevelUp=function(){q()};v();C();Y();k();
